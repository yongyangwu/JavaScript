<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <canvas id="canvas" width="700" height="700"></canvas>

    <script>
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');
        var flag = false;
        var status = 0;
        var startX, startY, endX, endY,widthX,heigthY;//矩形的四个点
        canvas.onmousedown = function (e) {
            startX = e.offsetX;
            startY = e.offsetY;
            flag = true;
        }
        canvas.onmousemove = function (e) {
            //   if(ctx.isPointInPath(e.offsetX,e.offsetY)){
            //       canvas.style.cursor = 'crosshair';
            //   }
            if (flag) {
                console.log('status', status)
                console.log('开始绘制')
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.setLineDash([6]);
                ctx.strokeStyle = "#0000ff";
                endX = e.offsetX;
                endY = e.offsetY;
                widthX = e.offsetX - startX;
                heigthY = e.offsetY - startY;
                ctx.strokeRect(startX, startY, widthX, heigthY)
            }
        }
        canvas.onmouseup = function (e) {
            flag = false;
            //把虚线矩形绘制成实线矩形
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // ctx.setLineDash([]);
            // ctx.strokeRect(startX, startY, widthX, heigthY);

        }

    </script>

</body>

</html>